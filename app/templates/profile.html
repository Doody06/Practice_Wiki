{% extends 'base.html' %}

{% block title %}User Profile{% endblock %}

{% block content %}
<div class="container mt-5">
    <h1>{{ user.username }}'s Profile</h1>
    <p>Email: {{ user.email }}</p> <!-- hide email in the future -->
</div>
<div class="container mt-5">
    <a href="{{ url_for('auth.edit_profile') }}" class="btn btn-primary">Edit Profile</a>
</div>
<div class="container mt-5">
    <h2>Suggestions</h2>
    {% if suggestions %}
        <ul class="list-group">
            {% for suggestion in suggestions %}
                <li class="list-group-item">
                    <strong>{{ suggestion.title }}</strong> - {{ suggestion.content }}
                    <span class="text-muted"> (Suggested on {{ suggestion.created_at.strftime('%Y-%m-%d') }})</span>
                </li>
            {% endfor %}
        </ul>
        {% endif %}
        </div>
<div class="container mt-5">
    <h2>Comments</h2>
    {% if comments %}
        <ul class="list-group">
            {% for comment in comments %}
                <li class="list-group-item">
                    <strong>{{ comment.page.title }}</strong> - {{ comment.content }}
                    <span class="text-muted"> (Commented on {{ comment.created_at.strftime('%Y-%m-%d') }})</span>
                </li>   
                {% endfor %}
        </ul>
    {% endif %}
<div class="container mt-5">
    <h2>Edited Pages</h2>
    {% if edited_pages %}
        <ul class="list-group">
            {% for page in edited_pages %}
                <li class="list-group-item">
                    <strong>{{ page.title }}</strong> - Last edited on {{ page.created_at.strftime('%Y-%m-%d') }}
                    </li>
            {% endfor %}
        </ul>
        {% endif %}
    
{% endblock %}